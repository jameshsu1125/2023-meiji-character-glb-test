"use strict";(self.webpackChunk_=self.webpackChunk_||[]).push([[680],{5680:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var a=t(8152),r=t(9515),s=t.n(r),o=t(4570),i=t.n(o),u=t(1214),c=t.n(u),l=t(7294),d=t(9477),f={unset:0},b={steps:f.unset},h=(0,l.createContext)(b),m={camera:{fov:40,far:200},sky:{enabled:!0,turbidity:0,rayleigh:.079,mieCoefficient:.023,mieDirectionalG:.226,inclination:70,azimuth:-102.7},controls:{distance:{min:30,max:200},polar:{min:5,max:60},azimuth:{min:-1/0,max:1/0},offsetAzimuth:0,enabled:!0,panEasing:100},light:{ambient:{color:5409234,intensity:3},spot:{color:16777215,intensity:1,far:50,position:{x:0,y:10,z:10}},shadowMapSize:512},renderer:{alpha:!1,shadowType:0,exposure:.5},physics:!1,stats:!0},p=t.p+"bundle/glb/Combine_v3.glb",g=t.p+"bundle/glb/Mushroom_pack.glb",v=t.p+"bundle/glb/bamboo_pack.glb",y=t(3777),x=t(3032),w=t(5893),k=(0,l.memo)((function(){var e=(0,l.useContext)(y._y),n=(0,a.Z)(e,2)[1],t=(0,l.useRef)(),r=(0,l.useRef)(0),o=(0,l.useRef)(),u=(0,l.useState)(f),b=(0,l.useState)(r.current),k=(0,a.Z)(b,2),C=k[0],j=k[1],S=(0,l.useState)([]),E=(0,a.Z)(S,2),_=E[0],z=E[1],N=(0,l.useState)(0),P=(0,a.Z)(N,2),Z=P[0],D=P[1];return(0,l.useEffect)((function(){r.current=C}),[C]),(0,l.useEffect)((function(){0!==_.length&&2===Z&&(s().add((function(){var e=t.current.clock.getDelta();_[r.current].update(e),t.current.stats.end()})),n({type:x.om.LoadingProcess,state:{enabled:!1}}))}),[_,Z]),(0,l.useEffect)((function(){n({type:x.om.LoadingProcess,state:{enabled:!0}});var e=new(c())(m);o.current.appendChild(e.render.domElement),t.current=e;var a=new d.Wid;a.metalness=0,a.roughness=.4;var r=new d.DvJ(100,.1,100),s=new d.Kj0(r,a);s.receiveShadow=!0,s.position.y=-1.23,e.scene.add(s);var u=[p,g,v];Promise.all(u.map((function(e){return i()(e)}))).then((function(n){n.forEach((function(n,t){var a=n.model,r=n.mixers,s=n.gltf;a.scale.set(1,1,1),e.scene.add(a),a.position.y=-1.2,a.position.x=[0,-1.2,1][t],a.castShadow=!0,s.scene.traverse((function(e){var n=e;n.isMesh&&(n.castShadow=!0)})),r.length>0&&z(r),D(t)}))}))}),[]),(0,w.jsxs)(h.Provider,{value:u,children:[(0,w.jsx)("div",{ref:o,className:"Landing"}),(0,w.jsxs)("div",{className:"absolute right-0 top-0 flex w-40 flex-col justify-center bg-black",children:[(0,w.jsx)("button",{className:"w-full border hover:bg-gray-700",type:"button",onClick:function(){return j(0)},children:"掉落"}),(0,w.jsx)("button",{className:"w-full border hover:bg-gray-700",type:"button",onClick:function(){return j(1)},children:"跑步"}),(0,w.jsx)("button",{className:"w-full border hover:bg-gray-700",type:"button",onClick:function(){return j(2)},children:"揮手"})]})]})}))}}]);