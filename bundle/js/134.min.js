"use strict";(self.webpackChunk_=self.webpackChunk_||[]).push([[134],{8134:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var a=t(8152),r=t(9515),o=t.n(r),s=t(4570),i=t.n(s),c=t(1214),l=t.n(c),u=t(7294),d=t(9477),f={unset:0},b={steps:f.unset},h=(0,u.createContext)(b),m={camera:{fov:40,far:200},sky:{enabled:!0,turbidity:0,rayleigh:.079,mieCoefficient:.023,mieDirectionalG:.226,inclination:70,azimuth:-102.7},controls:{distance:{min:30,max:100},polar:{min:5,max:60},azimuth:{min:-1/0,max:1/0},offsetAzimuth:0,enabled:!0,panEasing:100},light:{ambient:{color:5409234,intensity:.6},spot:{color:16777215,intensity:5,far:50,position:{x:10,y:10,z:0}},shadowMapSize:1024},renderer:{alpha:!1,shadowType:0,exposure:.5},physics:!1,stats:!0},p=t.p+"bundle/glb/0710_run.glb",g=t.p+"bundle/glb/0710_down.glb",v=t.p+"bundle/glb/0710_waveglb.glb",y=t(3777),w=t(3032),x=t(5893),k=(0,u.memo)((function(){var e=(0,u.useContext)(y._y),n=(0,a.Z)(e,2)[1],t=(0,u.useRef)(),r=(0,u.useRef)(),s=(0,u.useState)(f),c=(0,u.useState)([]),b=(0,a.Z)(c,2),k=b[0],C=b[1],j=(0,u.useState)(),E=(0,a.Z)(j,2),S=E[0],_=E[1];return(0,u.useEffect)((function(){void 0!==S&&k.forEach((function(e,n){e.model.visible=n===S}))}),[S]),(0,u.useEffect)((function(){3===k.length&&(o().add((function(){var e=t.current.clock.getDelta();k.forEach((function(n){return n.mixers[0].update(e)}))})),n({type:w.om.LoadingProcess,state:{enabled:!1}}),_(0))}),[k]),(0,u.useEffect)((function(){n({type:w.om.LoadingProcess,state:{enabled:!0}});var e=new(l())(m);r.current.appendChild(e.render.domElement),t.current=e;var a=new d.Wid;a.metalness=0,a.roughness=.4;var o=new d.DvJ(100,.1,100),s=new d.Kj0(o,a);s.receiveShadow=!0,s.position.y=-1.23,e.scene.add(s);var c=[p,g,v];Promise.all(c.map((function(e){return i()(e)}))).then((function(n){n.forEach((function(n){var t=n.model,a=n.gltf;t.scale.set(1,1,1),e.scene.add(t),t.position.y=-1.2,t.castShadow=!0,t.visible=!1,a.scene.traverse((function(e){var n=e;n.isMesh&&(n.castShadow=!0)}))})),C(n)}))}),[]),(0,x.jsxs)(h.Provider,{value:s,children:[(0,x.jsx)("div",{ref:r,className:"Landing"}),(0,x.jsxs)("div",{className:"absolute right-0 top-0 flex w-40 flex-col justify-center bg-black",children:[(0,x.jsx)("button",{className:"w-full border hover:bg-gray-700",type:"button",onClick:function(){return _(0)},children:"跑步"}),(0,x.jsx)("button",{className:"w-full border hover:bg-gray-700",type:"button",onClick:function(){return _(1)},children:"掉落"}),(0,x.jsx)("button",{className:"w-full border hover:bg-gray-700",type:"button",onClick:function(){return _(2)},children:"揮手"})]})]})}))}}]);