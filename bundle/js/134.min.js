"use strict";(self.webpackChunk_=self.webpackChunk_||[]).push([[134],{8134:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var a=t(2982),r=t(885),o=t(9515),i=t.n(o),s=t(4570),c=t.n(s),u=t(1214),l=t.n(u),d=t(7294),f=t(9477),b={unset:0},h={steps:b.unset},m=(0,d.createContext)(h),p={camera:{fov:40,far:200},sky:{enabled:!0,turbidity:0,rayleigh:.079,mieCoefficient:.023,mieDirectionalG:.226,inclination:70,azimuth:-102.7},controls:{distance:{min:30,max:100},polar:{min:5,max:60},azimuth:{min:-1/0,max:1/0},offsetAzimuth:0,enabled:!0,panEasing:100},light:{ambient:{color:5409234,intensity:.6},spot:{color:16777215,intensity:5,far:50,position:{x:10,y:10,z:0}},shadowMapSize:1024},renderer:{alpha:!1,shadowType:0,exposure:.5},physics:!1,stats:!0},g=t.p+"bundle/glb/0710_run.glb",v=t.p+"bundle/glb/0710_down.glb",y=t.p+"bundle/glb/0710_waveglb.glb",x=t(3777),w=t(3032),k=t(5893),C=(0,d.memo)((function(){var e=(0,d.useContext)(x._y),n=(0,r.Z)(e,2)[1],t=(0,d.useRef)(),o=(0,d.useRef)(),s=(0,d.useState)(b),u=(0,d.useState)([]),h=(0,r.Z)(u,2),C=h[0],j=h[1],E=(0,d.useState)(),S=(0,r.Z)(E,2),_=S[0],z=S[1];return(0,d.useEffect)((function(){void 0!==_&&C.forEach((function(e,n){e.model.visible=n===_}))}),[_]),(0,d.useEffect)((function(){3===C.length&&(i().add((function(){var e=t.current.clock.getDelta();C.forEach((function(n){return n.mixer.update(e)}))})),n({type:w.om.LoadingProcess,state:{enabled:!1}}),z(0))}),[C]),(0,d.useEffect)((function(){n({type:w.om.LoadingProcess,state:{enabled:!0}});var e=new(l())(p);o.current.appendChild(e.render.domElement),t.current=e;var r=new f.Wid;r.metalness=0,r.roughness=.4;var i=new f.DvJ(100,.1,100),s=new f.Kj0(i,r);s.receiveShadow=!0,s.position.y=-1.23,e.scene.add(s),[g,v,y].forEach((function(n){c()(n).then((function(n){var t=n.model,r=n.mixers,o=n.gltf;t.scale.set(1,1,1),e.scene.add(t),t.position.y=-1.2,t.castShadow=!0,t.visible=!1,o.scene.traverse((function(e){var n=e;n.isMesh&&(n.castShadow=!0)})),j((function(e){return[].concat((0,a.Z)(e),[{mixer:r[0],model:t}])}))}))}))}),[]),(0,k.jsxs)(m.Provider,{value:s,children:[(0,k.jsx)("div",{ref:o,className:"Landing"}),(0,k.jsxs)("div",{className:"absolute right-0 top-0 flex w-40 flex-col justify-center bg-black",children:[(0,k.jsx)("button",{className:"w-full border hover:bg-gray-700",type:"button",onClick:function(){return z(0)},children:"跑步"}),(0,k.jsx)("button",{className:"w-full border hover:bg-gray-700",type:"button",onClick:function(){return z(1)},children:"掉落"}),(0,k.jsx)("button",{className:"w-full border hover:bg-gray-700",type:"button",onClick:function(){return z(2)},children:"揮手"})]})]})}))}}]);